{"version":3,"sources":["app.js","states.js","templates.js","components/categories-component.js","components/category-widget-component.js","components/create-category-widget-component.js","components/create-user-form-component.js","components/edit-listing-form-component.js","components/edit-user-form-component.js","components/footer-component.js","components/header-component.js","components/listing-component.js","components/listings-component.js","components/login-logout-widget-component.js","components/post-listing-form-component.js","components/root-component.js","components/user-component.js","components/user-widget-component.js","components/users-component.js","services/authentication-service.js","services/categories-service.js","services/listings-service.js","services/token-interceptor.js","services/user-login-service.js","services/users-service.js"],"names":["angular","module","config","$httpProvider","interceptors","push","run","$transitions","$state","onError","go","authenticationService","check","value","adminEditMode","$stateProvider","$locationProvider","$urlRouterProvider","otherwise","rootState","name","abstract","component","resolve","uncategorized","categoriesService","getListingsForCategory","categoriesState","url","views","content-view","categories","getAllCategories","listingsState","category","$stateParams","listingState","listing","listingsService","getListing","listingId","params","newListingState","editListingState","usersState","users","usersService","getAllUsers","userState","user","getSingleUser","email","newUserState","editUserState","state","html5Mode","$templateCache","put","bindings","controller","$scope","globals","vm","this","broadcastCloseAllOthers","except","$broadcast","templateUrl","onBeginEdit","$timeout","editing","newValue","$onInit","beginEdit","document","getElementById","focus","select","cancelEdit","submitCategory","editCategory","then","current","reload","catch","err","window","alert","data","error","console","deleteCategory","removeCategory","$on","event","_id","categoryName","createCategory","submitForm","password","passwordConfirmation","createUser","log","checkboxesState","allCategoryIds","map","Object","assign","currentCategoryIds","categoryId","indexOf","$watch","filter","length","editListing","authenticationBindings","updateUser","toggleAdminEditMode","deleteListing","confirm","$window","userLoginService","formOpen","login","cancelLogin","logout","postListing","deleteUser","service","loggedIn","localStorage","token","admin","JSON","parse","$http","get","post","delete","tokenInterceptor","request","headers","factory","$inject","$q","result"],"mappings":"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","file":"main.js","sourcesContent":["(function(){\r\n\t\"use strict\";\r\n\tangular.module(\"mikeslist\", [\"ui.router\"]).\r\n\t\r\n\tconfig([\"$httpProvider\", function($httpProvider){\r\n\r\n\t\t//insert an interceptor into all $http calls\r\n\t\t$httpProvider.interceptors.push(\"tokenInterceptor\");\r\n\t}]).\r\n\r\n\trun([\"$transitions\", \"$state\", function($transitions, $state){\r\n\t\t\r\n\t\t//if error in transition, change to the categories state (home page)\r\n\t\t$transitions.onError({}, function(){\r\n\t\t\t$state.go(\"root-state.categories-state\");\r\n\t\t});\r\n\t}]).\r\n\r\n\trun([\"authenticationService\", function(authenticationService){\r\n\r\n\t\t//check if logged in\r\n\t\tauthenticationService.check();\r\n\t}]).\r\n\r\n\tvalue(\"globals\", {\r\n\r\n\t\t//set admin edit mode to false\r\n\t\tadminEditMode: false\r\n\t});\r\n})();","(function(){\r\n\t\"use strict\";\r\n\tangular.module(\"mikeslist\").\r\n\tconfig([\"$stateProvider\", \"$locationProvider\", \"$urlRouterProvider\",\r\n\t\tfunction($stateProvider, $locationProvider, $urlRouterProvider){\r\n\t\t\t$urlRouterProvider.otherwise(\"/\");\r\n\t\t\tvar rootState = {\r\n\t\t\t\tname: \"root-state\",\r\n\t\t\t\tabstract: true,\r\n\t\t\t\tcomponent: \"rootComponent\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tuncategorized: [\"categoriesService\", function(categoriesService){\r\n\t\t\t\t\t\treturn categoriesService.getListingsForCategory(\"uncategorized\");\r\n\t\t\t\t\t}],\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar categoriesState = {\r\n\t\t\t\tname: \"root-state.categories-state\",\r\n\t\t\t\turl: \"/\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"categoriesComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcategories: [\"categoriesService\", function(categoriesService){\r\n\t\t\t\t\t\treturn categoriesService.getAllCategories();\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar listingsState = {\r\n\t\t\t\tname: \"root-state.listings-state\",\r\n\t\t\t\turl: \"/category/{category}\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"listingsComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcategory: [\"categoriesService\", \"$stateParams\", function(categoriesService, $stateParams){\r\n\t\t\t\t\t\treturn categoriesService.getListingsForCategory($stateParams.category);\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar listingState = {\r\n\t\t\t\tname: \"root-state.listing-state\",\r\n\t\t\t\turl: \"/listing/{listingId}\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"listingComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tlisting: [\"listingsService\", \"$stateParams\", function(listingsService, $stateParams){\r\n\t\t\t\t\t\treturn listingsService.getListing($stateParams.listingId);\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tcategory: {}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar newListingState = {\r\n\t\t\t\tname: \"root-state.new-listing-state\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"postListingFormComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcategories: [\"categoriesService\", function(categoriesService){\r\n\t\t\t\t\t\treturn categoriesService.getAllCategories();\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar editListingState = {\r\n\t\t\t\tname: \"root-state.edit-listing-state\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"editListingFormComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcategories: [\"categoriesService\", function(categoriesService){\r\n\t\t\t\t\t\treturn categoriesService.getAllCategories();\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tlisting: {}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar usersState = {\r\n\t\t\t\tname: \"root-state.users-state\",\r\n\t\t\t\turl: \"/users\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tusers: [\"usersService\", function(usersService){\r\n\t\t\t\t\t\treturn usersService.getAllUsers();\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"usersComponent\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar userState = {\r\n\t\t\t\tname: \"root-state.user-state\",\r\n\t\t\t\turl: \"/user/{email}\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tuser: [\"usersService\", \"$stateParams\", function(usersService, $stateParams){\r\n\t\t\t\t\t\treturn usersService.getSingleUser($stateParams.email);\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"userComponent\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar newUserState = {\r\n\t\t\t\tname: \"root-state.new-user-state\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"createUserFormComponent\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar editUserState = {\r\n\t\t\t\tname: \"root-state.edit-user-state\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"editUserFormComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tuser: {}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t$stateProvider.state(rootState);\r\n\t\t\t$stateProvider.state(categoriesState);\r\n\t\t\t$stateProvider.state(listingsState);\r\n\t\t\t$stateProvider.state(listingState);\r\n\t\t\t$stateProvider.state(newListingState);\r\n\t\t\t$stateProvider.state(editListingState);\r\n\t\t\t$stateProvider.state(usersState);\r\n\t\t\t$stateProvider.state(userState);\r\n\t\t\t$stateProvider.state(newUserState);\r\n\t\t\t$stateProvider.state(editUserState);\r\n\t\t\t$locationProvider.html5Mode(true);\r\n\t\t}]);\r\n})();","(function(){angular.module('mikeslist').run(['$templateCache', function($templateCache) {$templateCache.put('categories-component.tpl','<ul>\\r\\n\\r\\n\\t<li ng-repeat=\"category in $ctrl.categories\">\\r\\n\\t\\t<category-widget-component on-begin-edit=\"$ctrl.broadcastCloseAllOthers(except)\" category=\"category\"></category-widget-component>\\r\\n\\t</li>\\r\\n\\r\\n\\t<li ng-if=\"$ctrl.globals.adminEditMode && $ctrl.uncategorized.listingCount > 0\">\\r\\n\\t\\t<a ui-sref=\"root-state.listings-state({category: \\'uncategorized\\'})\">uncategorized ({{$ctrl.uncategorized.listingCount}})</a>\\r\\n\\t</li>\\r\\n\\t\\r\\n\\t<li ng-if=\"$ctrl.globals.adminEditMode\">\\r\\n\\t\\t<create-category-widget-component on-begin-edit=\"$ctrl.broadcastCloseAllOthers(except)\"></create-category-widget-component>\\r\\n\\t</li>\\r\\n</ul>');\r\n$templateCache.put('category-widget-component.tpl','<a href=\"\" ng-if=\"!$ctrl.editing && $ctrl.globals.adminEditMode\" ng-click=\"$ctrl.deleteCategory()\">X</a>\\r\\n\\r\\n<a ng-if=\"!$ctrl.editing\" ui-sref=\"root-state.listings-state({category: $ctrl.category.name})\">{{$ctrl.category.name}} ({{$ctrl.category.listingCount}})</a>\\r\\n\\r\\n<a href=\"\" ng-if=\"!$ctrl.editing && $ctrl.globals.adminEditMode\" ng-click=\"$ctrl.beginEdit()\">Edit</a>\\r\\n\\r\\n<form ng-if=\"$ctrl.editing\" ng-submit=\"$ctrl.submitCategory()\">\\r\\n\\t<input id=\"category-edit-field\" type=\"text\" ng-model=\"$ctrl.newValue\" required>\\r\\n\\t<button type=\"submit\">OK</button>\\r\\n\\t<button type=\"button\" ng-click=\"$ctrl.cancelEdit()\">Cancel</button>\\r\\n</form>');\r\n$templateCache.put('create-category-widget-component.tpl','<a href=\"\" ng-click=\"$ctrl.beginEdit()\" ng-if=\"!$ctrl.editing\">Add Category</a>\\r\\n<form ng-if=\"$ctrl.editing\" ng-submit=\"$ctrl.submitCategory()\">\\r\\n\\t<input id=\"category-create-field\" autofocus type=\"text\" placeholder=\"new category\" ng-model=\"$ctrl.categoryName\" required>\\r\\n\\t<button type=\"submit\">OK</button>\\r\\n\\t<button type=\"button\" ng-click=\"$ctrl.cancelEdit()\">Cancel</button>\\r\\n</form>');\r\n$templateCache.put('footer-component.tpl','<h1>This is the Footer</h1>');\r\n$templateCache.put('header-component.tpl','<h1>This is the Header</h1>\\r\\n<a ui-sref=\"root-state.categories-state\">Go home</a><br>\\r\\n<a ng-if=\"$ctrl.authenticationBindings.loggedIn\" href=\"\" ui-sref=\"root-state.new-listing-state\">Post New Listing</a>\\r\\n<a href=\"\" ng-if=\"$ctrl.authenticationBindings.loggedIn && $ctrl.authenticationBindings.admin && !$ctrl.globals.adminEditMode\" ng-click=\"$ctrl.toggleAdminEditMode()\">Edit Mode Off</a>\\r\\n<a href=\"\" ng-if=\"$ctrl.authenticationBindings.loggedIn && $ctrl.authenticationBindings.admin && $ctrl.globals.adminEditMode\" ng-click=\"$ctrl.toggleAdminEditMode()\">Edit Mode On</a>\\r\\n<login-logout-widget-component></login-logout-widget-component>\\r\\n<a ng-if=\"$ctrl.authenticationBindings.loggedIn && $ctrl.authenticationBindings.admin\" ui-sref=\"root-state.users-state\">Users</a>\\r\\n<a ng-if=\"$ctrl.authenticationBindings.loggedIn && $ctrl.authenticationBindings.admin\" ui-sref=\"root-state.listings-state({category: \\'uncategorized\\'})\">uncategorized ({{$ctrl.uncategorized.listingCount}})</a>');\r\n$templateCache.put('listing-component.tpl','<h2>{{$ctrl.listing.title}}</h2>\\r\\n<p>{{$ctrl.listing.body}}</p>\\r\\n<p>{{$ctrl.listing.posterEmail}}</p>\\r\\n<p>This listing can be found in these categories:</p>\\r\\n<ul>\\r\\n\\t<li ng-repeat=\"category in $ctrl.listing.categories\">\\r\\n\\t\\t<a ui-sref=\"root-state.listings-state({category: category.name})\">{{category.name}}</a>\\r\\n\\t</li>\\r\\n</ul>\\r\\n<a ng-if=\"$ctrl.authenticationBindings.email === $ctrl.listing.posterEmail || $ctrl.authenticationBindings.admin\" href=\"\" ui-sref=\"root-state.edit-listing-state({listing: $ctrl.listing})\">edit me</a>\\r\\n<a ng-if=\"$ctrl.authenticationBindings.email === $ctrl.listing.posterEmail || $ctrl.authenticationBindings.admin\" href=\"\" ng-click=\"$ctrl.deleteListing()\">delete me</a>');\r\n$templateCache.put('listing-form.tpl','<form name=\"postListingForm\" ng-submit=\"$ctrl.submitForm()\">\\r\\n\\t<input ng-model=\"$ctrl.listing.title\"\\r\\n\\t\\t   type=\"text\"\\r\\n\\t\\t   placeholder=\"title\"\\r\\n\\t\\t   required>\\r\\n\\t<br>\\r\\n\\t<textarea ng-model=\"$ctrl.listing.body\"\\r\\n\\t\\t\\t  required></textarea>\\r\\n\\t<br>\\r\\n<!-- \\t<input ng-model=\"$ctrl.listing.posterEmail\"\\r\\n\\t\\t   type=\"email\"\\r\\n\\t\\t   placeholder=\"email@example.com\"\\r\\n\\t\\t   required>\\r\\n\\t<br> -->\\r\\n\\t<label for=\"{{category.name + \\'_checkbox\\'}}\"\\r\\n\\t       ng-repeat-start=\"category in $ctrl.categories\">{{category.name}}</label>\\r\\n\\t<input id=\"{{category.name + \\'_checkbox\\'}}\"\\r\\n\\t       ng-model=\"$ctrl.checkboxesState[$index]\"\\r\\n\\t\\t   ng-repeat-end\\r\\n\\t\\t   ng-true-value=\"\\'{{category._id}}\\'\"\\r\\n\\t\\t   type=\"checkbox\">\\r\\n\\t<br>\\r\\n\\t<button type=\"submit\">Submit Form</button>\\r\\n</form>');\r\n$templateCache.put('listings-component.tpl','<ul>\\r\\n\\t<li ng-repeat=\"listing in $ctrl.category.listings\"><a ui-sref=\"root-state.listing-state({listingId: listing._id, category: $ctrl.category})\">{{listing.title}}</a></li>\\r\\n</ul>\\r\\n<div ng-if=\"$ctrl.category.listingCount === 0\">This category is empty</div>');\r\n$templateCache.put('login-logout-widget-component.tpl','\\r\\n<a href=\"\" ng-if=\"!$ctrl.formOpen && !$ctrl.bindings.loggedIn\" ng-click=\"$ctrl.formOpen = true\">Login</a>\\r\\n<span ng-if=\"$ctrl.bindings.loggedIn\">Logged in as: {{$ctrl.bindings.email}}</span>\\r\\n<a href=\"\" ng-if=\"$ctrl.bindings.loggedIn\" ng-click=\"$ctrl.logout()\">Logout</a>\\r\\n<form ng-if=\"$ctrl.formOpen\" ng-submit=\"$ctrl.login()\">\\r\\n\\t<input type=\"text\" ng-model=\"$ctrl.email\">\\r\\n\\t<input type=\"password\" ng-model=\"$ctrl.password\">\\r\\n\\t<button type=\"submit\">Login</button>\\r\\n\\t<button type=\"button\" ng-click=\"$ctrl.cancelLogin()\">Cancel</button>\\r\\n</form>\\r\\n');\r\n$templateCache.put('root-component.tpl','<header class=\"site-header\"><header-component uncategorized=\"$ctrl.uncategorized\"></header-component></header>\\r\\n<main class=\"site-main\" ui-view=\"content-view\"></main>\\r\\n<footer class=\"site-footer\"><footer-component></footer-component></footer>');\r\n$templateCache.put('user-component.tpl','<h1>{{$ctrl.user.email}}</h1>\\r\\n<p ng-if=\"$ctrl.user.admin\">User is admin</p>\\r\\n<a href=\"\" ui-sref=\"root-state.edit-user-state({user: $ctrl.user})\">Edit me</a>\\r\\n<a href=\"\" ng-click=\"$ctrl.deleteUser()\" ng-if=\"$ctrl.authenticationBindings.email !== $ctrl.user.email\">Delete me</a>');\r\n$templateCache.put('user-form.tpl','<form name=\"postListingForm\" ng-submit=\"$ctrl.submitForm()\">\\r\\n\\t<input id=\"email-field\" ng-model=\"$ctrl.user.email\"\\r\\n\\t\\t   type=\"email\"\\r\\n\\t\\t   placeholder=\"user@example.com\"\\r\\n\\t\\t   required>\\r\\n\\t<br>\\r\\n\\t<label for=\"admin-checkbox\">User is admin: </label>\\r\\n\\t<input type=\"checkbox\" ng-model=\"$ctrl.user.admin\" ng-disabled=\"$ctrl.email && $ctrl.authenticationBindings.email === $ctrl.email\">\\r\\n\\t<br>\\r\\n\\t<input type=\"password\" ng-model=\"$ctrl.user.password\" ng-required=\"!$ctrl.email\" placeholder=\"password\">\\r\\n\\t<br>\\r\\n\\t<input type=\"password\" ng-model=\"$ctrl.user.passwordConfirmation\" ng-required=\"!$ctrl.email\" placeholder=\"confirm password\">\\r\\n\\t<br>\\r\\n\\t<button type=\"submit\">Submit Form</button>\\r\\n</form>');\r\n$templateCache.put('user-widget-component.tpl','<a href=\"\" ng-if=\"!$ctrl.editing && $ctrl.globals.admin\" ng-click=\"$ctrl.deleteUser()\">X</a>\\r\\n\\r\\n<a ng-if=\"!$ctrl.editing\" ui-sref=\"root-state.listings-state({category: $ctrl.category.name})\">{{$ctrl.category.name}} ({{$ctrl.category.listingCount}})</a>\\r\\n\\r\\n<a href=\"\" ng-if=\"!$ctrl.editing && $ctrl.globals.admin\" ng-click=\"$ctrl.beginEdit()\">Edit</a>\\r\\n\\r\\n<form ng-if=\"$ctrl.editing\" ng-submit=\"$ctrl.submitCategory()\">\\r\\n\\t<input id=\"category-edit-field\" type=\"text\" ng-model=\"$ctrl.newValue\" required>\\r\\n\\t<button type=\"submit\">OK</button>\\r\\n\\t<button type=\"button\" ng-click=\"$ctrl.cancelEdit()\">Cancel</button>\\r\\n</form>');\r\n$templateCache.put('users-component.tpl','<ul>\\r\\n\\t<li ng-repeat=\"user in $ctrl.users\">\\r\\n\\t\\t<a ui-sref=\"root-state.user-state({email: user.email})\">{{user.email}}</a>\\r\\n\\t</li>\\r\\n\\t<li>\\r\\n\\t\\t<a href=\"\" ui-sref=\"root-state.new-user-state\">Create new user</a>\\r\\n\\t</li>\\r\\n</ul>');}]);})();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}