{"version":3,"sources":["app.js","components/categories-component.js","components/category-widget-component.js","components/create-category-widget-component.js","components/create-user-form-component.js","components/edit-listing-form-component.js","components/edit-user-form-component.js","components/footer-component.js","components/header-component.js","components/listing-component.js","components/listings-component.js","components/login-logout-widget-component.js","components/post-listing-form-component.js","components/root-component.js","components/user-component.js","components/user-widget-component.js","components/users-component.js","services/authentication-service.js","services/categories-service.js","services/listings-service.js","services/token-interceptor.js","services/user-login-service.js","services/users-service.js","states.js","templates.js"],"names":["angular","module","config","$httpProvider","interceptors","push","run","$transitions","$state","onError","go","authenticationService","check","value","adminEditMode","component","bindings","categories","uncategorized","controller","$scope","globals","vm","this","broadcastCloseAllOthers","except","$broadcast","templateUrl","category","onBeginEdit","$timeout","categoriesService","editing","newValue","$onInit","name","beginEdit","document","getElementById","focus","select","cancelEdit","submitCategory","editCategory","then","current","reload","catch","err","window","alert","data","error","console","deleteCategory","removeCategory","$on","event","_id","categoryName","createCategory","usersService","user","submitForm","password","passwordConfirmation","createUser","email","log","$stateParams","listingsService","listing","checkboxesState","allCategoryIds","map","Object","assign","currentCategoryIds","categoryId","indexOf","$watch","filter","length","editListing","listingId","authenticationBindings","updateUser","toggleAdminEditMode","deleteListing","confirm","$window","userLoginService","formOpen","login","cancelLogin","status","logout","protected","postListing","deleteUser","users","service","loggedIn","localStorage","token","admin","JSON","parse","$http","getAllCategories","get","getListingsForCategory","post","put","delete","getListing","tokenInterceptor","request","headers","factory","$inject","$q","resolve","result","getAllUsers","getSingleUser","$stateProvider","$locationProvider","$urlRouterProvider","otherwise","rootState","abstract","categoriesState","url","views","content-view","listingsState","listingState","params","newListingState","editListingState","usersState","userState","newUserState","editUserState","state","html5Mode","$templateCache"],"mappings":"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","file":"main.js","sourcesContent":["(function(){\r\n\t\"use strict\";\r\n\tangular.module(\"mikeslist\", [\"ui.router\"]).\r\n\t\r\n\tconfig([\"$httpProvider\", function($httpProvider){\r\n\r\n\t\t//insert an interceptor into all $http calls\r\n\t\t$httpProvider.interceptors.push(\"tokenInterceptor\");\r\n\t}]).\r\n\r\n\trun([\"$transitions\", \"$state\", function($transitions, $state){\r\n\t\t\r\n\t\t//if error in transition, change to the categories state (home page)\r\n\t\t$transitions.onError({}, function(){\r\n\t\t\t$state.go(\"root-state.categories-state\");\r\n\t\t});\r\n\t}]).\r\n\r\n\trun([\"authenticationService\", function(authenticationService){\r\n\r\n\t\t//check if logged in\r\n\t\tauthenticationService.check();\r\n\t}]).\r\n\r\n\tvalue(\"globals\", {\r\n\r\n\t\t//set admin edit mode to false\r\n\t\tadminEditMode: false\r\n\t});\r\n})();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"(function(){\r\n\t\"use strict\";\r\n\tangular.module(\"mikeslist\").\r\n\tconfig([\"$stateProvider\", \"$locationProvider\", \"$urlRouterProvider\",\r\n\t\tfunction($stateProvider, $locationProvider, $urlRouterProvider){\r\n\t\t\t$urlRouterProvider.otherwise(\"/\");\r\n\t\t\tvar rootState = {\r\n\t\t\t\tname: \"root-state\",\r\n\t\t\t\tabstract: true,\r\n\t\t\t\tcomponent: \"rootComponent\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tuncategorized: [\"categoriesService\", function(categoriesService){\r\n\t\t\t\t\t\treturn categoriesService.getListingsForCategory(\"uncategorized\");\r\n\t\t\t\t\t}],\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar categoriesState = {\r\n\t\t\t\tname: \"root-state.categories-state\",\r\n\t\t\t\turl: \"/\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"categoriesComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcategories: [\"categoriesService\", function(categoriesService){\r\n\t\t\t\t\t\treturn categoriesService.getAllCategories();\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar listingsState = {\r\n\t\t\t\tname: \"root-state.listings-state\",\r\n\t\t\t\turl: \"/category/{category}\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"listingsComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcategory: [\"categoriesService\", \"$stateParams\", function(categoriesService, $stateParams){\r\n\t\t\t\t\t\treturn categoriesService.getListingsForCategory($stateParams.category);\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar listingState = {\r\n\t\t\t\tname: \"root-state.listing-state\",\r\n\t\t\t\turl: \"/listing/{listingId}\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"listingComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tlisting: [\"listingsService\", \"$stateParams\", function(listingsService, $stateParams){\r\n\t\t\t\t\t\treturn listingsService.getListing($stateParams.listingId);\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tcategory: {}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar newListingState = {\r\n\t\t\t\tname: \"root-state.new-listing-state\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"postListingFormComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcategories: [\"categoriesService\", function(categoriesService){\r\n\t\t\t\t\t\treturn categoriesService.getAllCategories();\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tprotected: \"user\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar editListingState = {\r\n\t\t\t\tname: \"root-state.edit-listing-state\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"editListingFormComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcategories: [\"categoriesService\", function(categoriesService){\r\n\t\t\t\t\t\treturn categoriesService.getAllCategories();\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tlisting: {}\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tprotected: \"user\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar usersState = {\r\n\t\t\t\tname: \"root-state.users-state\",\r\n\t\t\t\turl: \"/users\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tusers: [\"usersService\", function(usersService){\r\n\t\t\t\t\t\treturn usersService.getAllUsers();\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"usersComponent\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar userState = {\r\n\t\t\t\tname: \"root-state.user-state\",\r\n\t\t\t\turl: \"/user/{email}\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tuser: [\"usersService\", \"$stateParams\", function(usersService, $stateParams){\r\n\t\t\t\t\t\treturn usersService.getSingleUser($stateParams.email);\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"userComponent\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar newUserState = {\r\n\t\t\t\tname: \"root-state.new-user-state\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"createUserFormComponent\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar editUserState = {\r\n\t\t\t\tname: \"root-state.edit-user-state\",\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t\"content-view\": \"editUserFormComponent\"\r\n\t\t\t\t},\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tuser: {}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t$stateProvider.state(rootState);\r\n\t\t\t$stateProvider.state(categoriesState);\r\n\t\t\t$stateProvider.state(listingsState);\r\n\t\t\t$stateProvider.state(listingState);\r\n\t\t\t$stateProvider.state(newListingState);\r\n\t\t\t$stateProvider.state(editListingState);\r\n\t\t\t$stateProvider.state(usersState);\r\n\t\t\t$stateProvider.state(userState);\r\n\t\t\t$stateProvider.state(newUserState);\r\n\t\t\t$stateProvider.state(editUserState);\r\n\t\t\t$locationProvider.html5Mode(true);\r\n\t\t}]);\r\n})();","(function(){angular.module('mikeslist').run(['$templateCache', function($templateCache) {$templateCache.put('categories-component.tpl','<ul>\\r\\n\\r\\n\\t<li ng-repeat=\"category in $ctrl.categories\">\\r\\n\\t\\t<category-widget-component on-begin-edit=\"$ctrl.broadcastCloseAllOthers(except)\" category=\"category\"></category-widget-component>\\r\\n\\t</li>\\r\\n\\r\\n\\t<li ng-if=\"$ctrl.globals.adminEditMode && $ctrl.uncategorized.listingCount > 0\">\\r\\n\\t\\t<a ui-sref=\"root-state.listings-state({category: \\'uncategorized\\'})\">uncategorized ({{$ctrl.uncategorized.listingCount}})</a>\\r\\n\\t</li>\\r\\n\\t\\r\\n\\t<li ng-if=\"$ctrl.globals.adminEditMode\">\\r\\n\\t\\t<create-category-widget-component on-begin-edit=\"$ctrl.broadcastCloseAllOthers(except)\"></create-category-widget-component>\\r\\n\\t</li>\\r\\n</ul>');\n$templateCache.put('category-widget-component.tpl','<a href=\"\" ng-if=\"!$ctrl.editing && $ctrl.globals.adminEditMode\" ng-click=\"$ctrl.deleteCategory()\">X</a>\\r\\n\\r\\n<a ng-if=\"!$ctrl.editing\" ui-sref=\"root-state.listings-state({category: $ctrl.category.name})\">{{$ctrl.category.name}} ({{$ctrl.category.listingCount}})</a>\\r\\n\\r\\n<a href=\"\" ng-if=\"!$ctrl.editing && $ctrl.globals.adminEditMode\" ng-click=\"$ctrl.beginEdit()\">Edit</a>\\r\\n\\r\\n<form ng-if=\"$ctrl.editing\" ng-submit=\"$ctrl.submitCategory()\">\\r\\n\\t<input id=\"category-edit-field\" type=\"text\" ng-model=\"$ctrl.newValue\" required>\\r\\n\\t<button type=\"submit\">OK</button>\\r\\n\\t<button type=\"button\" ng-click=\"$ctrl.cancelEdit()\">Cancel</button>\\r\\n</form>');\n$templateCache.put('create-category-widget-component.tpl','<a href=\"\" ng-click=\"$ctrl.beginEdit()\" ng-if=\"!$ctrl.editing\">Add Category</a>\\r\\n<form ng-if=\"$ctrl.editing\" ng-submit=\"$ctrl.submitCategory()\">\\r\\n\\t<input id=\"category-create-field\" autofocus type=\"text\" placeholder=\"new category\" ng-model=\"$ctrl.categoryName\" required>\\r\\n\\t<button type=\"submit\">OK</button>\\r\\n\\t<button type=\"button\" ng-click=\"$ctrl.cancelEdit()\">Cancel</button>\\r\\n</form>');\n$templateCache.put('footer-component.tpl','<h1>This is the Footer</h1>');\n$templateCache.put('header-component.tpl','<h1>This is the Header</h1>\\r\\n<a ui-sref=\"root-state.categories-state\">Go home</a><br>\\r\\n<a ng-if=\"$ctrl.authenticationBindings.loggedIn\" href=\"\" ui-sref=\"root-state.new-listing-state\">Post New Listing</a>\\r\\n<a href=\"\" ng-if=\"$ctrl.authenticationBindings.loggedIn && $ctrl.authenticationBindings.admin && !$ctrl.globals.adminEditMode\" ng-click=\"$ctrl.toggleAdminEditMode()\">Edit Mode Off</a>\\r\\n<a href=\"\" ng-if=\"$ctrl.authenticationBindings.loggedIn && $ctrl.authenticationBindings.admin && $ctrl.globals.adminEditMode\" ng-click=\"$ctrl.toggleAdminEditMode()\">Edit Mode On</a>\\r\\n<login-logout-widget-component></login-logout-widget-component>\\r\\n<a ng-if=\"$ctrl.authenticationBindings.loggedIn && $ctrl.authenticationBindings.admin\" ui-sref=\"root-state.users-state\">Users</a>\\r\\n<a ng-if=\"$ctrl.authenticationBindings.loggedIn && $ctrl.authenticationBindings.admin\" ui-sref=\"root-state.listings-state({category: \\'uncategorized\\'})\">uncategorized ({{$ctrl.uncategorized.listingCount}})</a>');\n$templateCache.put('listing-component.tpl','<h2>{{$ctrl.listing.title}}</h2>\\r\\n<p>{{$ctrl.listing.body}}</p>\\r\\n<p>{{$ctrl.listing.posterEmail}}</p>\\r\\n<p>This listing can be found in these categories:</p>\\r\\n<ul>\\r\\n\\t<li ng-repeat=\"category in $ctrl.listing.categories\">\\r\\n\\t\\t<a ui-sref=\"root-state.listings-state({category: category.name})\">{{category.name}}</a>\\r\\n\\t</li>\\r\\n</ul>\\r\\n<a ng-if=\"$ctrl.authenticationBindings.email === $ctrl.listing.posterEmail || $ctrl.authenticationBindings.admin\" href=\"\" ui-sref=\"root-state.edit-listing-state({listing: $ctrl.listing})\">edit me</a>\\r\\n<a ng-if=\"$ctrl.authenticationBindings.email === $ctrl.listing.posterEmail || $ctrl.authenticationBindings.admin\" href=\"\" ng-click=\"$ctrl.deleteListing()\">delete me</a>');\n$templateCache.put('listing-form.tpl','<form name=\"postListingForm\" ng-submit=\"$ctrl.submitForm()\">\\r\\n\\t<input ng-model=\"$ctrl.listing.title\"\\r\\n\\t\\t   type=\"text\"\\r\\n\\t\\t   placeholder=\"title\"\\r\\n\\t\\t   required>\\r\\n\\t<br>\\r\\n\\t<textarea ng-model=\"$ctrl.listing.body\"\\r\\n\\t\\t\\t  required></textarea>\\r\\n\\t<br>\\r\\n<!-- \\t<input ng-model=\"$ctrl.listing.posterEmail\"\\r\\n\\t\\t   type=\"email\"\\r\\n\\t\\t   placeholder=\"email@example.com\"\\r\\n\\t\\t   required>\\r\\n\\t<br> -->\\r\\n\\t<label for=\"{{category.name + \\'_checkbox\\'}}\"\\r\\n\\t       ng-repeat-start=\"category in $ctrl.categories\">{{category.name}}</label>\\r\\n\\t<input id=\"{{category.name + \\'_checkbox\\'}}\"\\r\\n\\t       ng-model=\"$ctrl.checkboxesState[$index]\"\\r\\n\\t\\t   ng-repeat-end\\r\\n\\t\\t   ng-true-value=\"\\'{{category._id}}\\'\"\\r\\n\\t\\t   type=\"checkbox\">\\r\\n\\t<br>\\r\\n\\t<button type=\"submit\">Submit Form</button>\\r\\n</form>');\n$templateCache.put('listings-component.tpl','<ul>\\r\\n\\t<li ng-repeat=\"listing in $ctrl.category.listings\"><a ui-sref=\"root-state.listing-state({listingId: listing._id, category: $ctrl.category})\">{{listing.title}}</a></li>\\r\\n</ul>\\r\\n<div ng-if=\"$ctrl.category.listingCount === 0\">This category is empty</div>');\n$templateCache.put('login-logout-widget-component.tpl','<div nf-if=\"$ctrl.error\" class=\"error-message\">{{$ctrl.error}}</div>\\r\\n<a href=\"\" ng-if=\"!$ctrl.formOpen && !$ctrl.bindings.loggedIn\" ng-click=\"$ctrl.formOpen = true\">Login</a>\\r\\n<span ng-if=\"$ctrl.bindings.loggedIn\">Logged in as: {{$ctrl.bindings.email}}</span>\\r\\n<a href=\"\" ng-if=\"$ctrl.bindings.loggedIn\" ng-click=\"$ctrl.logout()\">Logout</a>\\r\\n<form ng-if=\"$ctrl.formOpen\" ng-submit=\"$ctrl.login()\">\\r\\n\\t<input type=\"text\" ng-model=\"$ctrl.email\" ng-change=\"$ctrl.error = \\'\\'\">\\r\\n\\t<input type=\"password\" ng-model=\"$ctrl.password\" ng-change=\"$ctrl.error = \\'\\'\">\\r\\n\\t<button type=\"submit\">Login</button>\\r\\n\\t<button type=\"button\" ng-click=\"$ctrl.cancelLogin()\">Cancel</button>\\r\\n</form>\\r\\n');\n$templateCache.put('root-component.tpl','<header class=\"site-header\"><header-component uncategorized=\"$ctrl.uncategorized\"></header-component></header>\\r\\n<main class=\"site-main\" ui-view=\"content-view\"></main>\\r\\n<footer class=\"site-footer\"><footer-component></footer-component></footer>');\n$templateCache.put('user-component.tpl','<h1>{{$ctrl.user.email}}</h1>\\r\\n<p ng-if=\"$ctrl.user.admin\">User is admin</p>\\r\\n<a href=\"\" ui-sref=\"root-state.edit-user-state({user: $ctrl.user})\">Edit me</a>\\r\\n<a href=\"\" ng-click=\"$ctrl.deleteUser()\" ng-if=\"$ctrl.authenticationBindings.email !== $ctrl.user.email\">Delete me</a>');\n$templateCache.put('user-form.tpl','<form name=\"postListingForm\" ng-submit=\"$ctrl.submitForm()\">\\r\\n\\t<input id=\"email-field\" ng-model=\"$ctrl.user.email\"\\r\\n\\t\\t   type=\"email\"\\r\\n\\t\\t   placeholder=\"user@example.com\"\\r\\n\\t\\t   required>\\r\\n\\t<br>\\r\\n\\t<label for=\"admin-checkbox\">User is admin: </label>\\r\\n\\t<input type=\"checkbox\" ng-model=\"$ctrl.user.admin\" ng-disabled=\"$ctrl.email && $ctrl.authenticationBindings.email === $ctrl.email\">\\r\\n\\t<br>\\r\\n\\t<input type=\"password\" ng-model=\"$ctrl.user.password\" ng-required=\"!$ctrl.email\" placeholder=\"password\">\\r\\n\\t<br>\\r\\n\\t<input type=\"password\" ng-model=\"$ctrl.user.passwordConfirmation\" ng-required=\"!$ctrl.email\" placeholder=\"confirm password\">\\r\\n\\t<br>\\r\\n\\t<button type=\"submit\">Submit Form</button>\\r\\n</form>');\n$templateCache.put('user-widget-component.tpl','<a href=\"\" ng-if=\"!$ctrl.editing && $ctrl.globals.admin\" ng-click=\"$ctrl.deleteUser()\">X</a>\\r\\n\\r\\n<a ng-if=\"!$ctrl.editing\" ui-sref=\"root-state.listings-state({category: $ctrl.category.name})\">{{$ctrl.category.name}} ({{$ctrl.category.listingCount}})</a>\\r\\n\\r\\n<a href=\"\" ng-if=\"!$ctrl.editing && $ctrl.globals.admin\" ng-click=\"$ctrl.beginEdit()\">Edit</a>\\r\\n\\r\\n<form ng-if=\"$ctrl.editing\" ng-submit=\"$ctrl.submitCategory()\">\\r\\n\\t<input id=\"category-edit-field\" type=\"text\" ng-model=\"$ctrl.newValue\" required>\\r\\n\\t<button type=\"submit\">OK</button>\\r\\n\\t<button type=\"button\" ng-click=\"$ctrl.cancelEdit()\">Cancel</button>\\r\\n</form>');\n$templateCache.put('users-component.tpl','<ul>\\r\\n\\t<li ng-repeat=\"user in $ctrl.users\">\\r\\n\\t\\t<a ui-sref=\"root-state.user-state({email: user.email})\">{{user.email}}</a>\\r\\n\\t</li>\\r\\n\\t<li>\\r\\n\\t\\t<a href=\"\" ui-sref=\"root-state.new-user-state\">Create new user</a>\\r\\n\\t</li>\\r\\n</ul>');}]);})();"]}